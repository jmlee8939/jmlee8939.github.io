## Intro

***"거인의 어깨에 올라서서 더 넓은 세상을 바라보아라 - 아이작 뉴턴"***

사회생활을 하고 수입이 생기게 되면서, 내가 번 돈은 어디로 부터 왔으며, 어디로 사라져버리는가에 대한 질문을 꾸준히 하게 되었고 자연스럽게 경제에 관심을 가지게 되었다. 눈떠보면 사라져 있는 월급이 도대체 어디로 흘러 들어가는 걸까. 평범한 공대생으로 경제를 깊이 배워볼 수 있는 기회가 따로 없었기에 몇몇 쉬운 경제책을 틈틈히 겉핧기하고 있다. 그 중 가장 감명 깊었던 책은 "브라질에 비가 내리면 스타벅스 주식을 사라" 이다. 이 책의 저자이자 트럼프의 무역 책사이기도 한 피터 나바로는 이 책을 통해 거시 경제 지표를 통한 매크로 투자법을 소개하고 있다. 여러 투자 전략이 있겠지만, 세상의 거대한 흐름을 예측하고 그 흐름에 올라타는 것 만큼 효율적인 투자법이 있을까.

## 거시 경제 지표

기획재정부의 시사경제용어사전에는 "국민 경제 전체의 움직임을 경제지표. 국민소득, 물가, 국제수지, 실업률, 환율, 통화증가율, 이자율 등이 여기에 속한다." 라고 거시 경제 지표를 정의하고 있다. 쉽게 생각해서 한 나라의 경제적 분위기? 정도로 이해했다. 기업, 개인, 국가 등이 지금 또는 미래의 상황을 어떻게 바라보고 있는지 어떤 제스쳐들을 하려고 하는지 파악 한다면 내 돈이 앞으로 어디로 흘러 갈지 정도는 이해할 수 있지 않을까.

책에서는 아래와 같은 거시 경제 지표로 아래 지표들을 제시하고 있다.

**인플레이션** 
- 소비자물가지수(CPI), 생산자물가지수(PPI), 고용비용지수(ECI)
**불황**
- 고용보고서, 소비자 신뢰도, 소매 판매
**경제 성장과 경기 순환** 
- GDP, 자동차 트럭 판매, 주택 착공과 건축 비용 지출, S&P의 DRI 예측
**생산성**
- 생산성과 비용
**재정적자**
- 미 재무부 예산보고서
**무역적자**
- 상품 무역수지, 수입 수출 가격
**행정부 : 규제, 과세, 반독점** 
- 각종 신문, 뉴스
**사회적 변동**
- 블룸버그, 이코노미스트
**기술적 변화**
- 엑티브 트레이더, 인디비주얼 인베스터, 레드 헤링

처음 들어보는 지표가 참 많다. 🤨 

## 한국은행 Open API

백문이 불여일견. 
책으로 읽어서 이해하는 데에는 한계가 있는 법이다. 잘 모를때는 직접 들여다 보는게 제일이다. 데이터를 쉽게 얻을 수 있는 Open API 를 제공하는 사이트부터 찾아보았다. 우리의 친구 Chat GPT 에 물어보니 여러 좋은 사이트들을 추천해주었다. (한국은행 ECOS, 국가통계포털 KOSIS, 세인트루이스 연방준비은행 FRED 등..). 그 중에서 한국은행 Open API 를 활용해서 우리나라의 거시경제 지표를 들춰보고자 한다.

[ECOS 한국은행 API 서비스](https://ecos.bok.or.kr/api/#/)
한국 경제의 여러가지 지표를 API 로 제공함으로서, 다양한 경제 관련 어플리케이션을 개발을 장려하기 위해 한국은행에서 만든 API 서비스이다. 서비스를 사용하기 위해서는 가입후 api key를 받아서 사용하면 되고, 1분에 100회정도 까지 호출 가능하다.

###  ECOS API Loader

막상 API 를 활용하려고 하니 다음과 같은 두 가지 부분이 좀 불편했다.
- 내가 얻고 싶은 데이터의 통계 코드를 검색해야 하는 점.
- 필요한 데이터의 시간 간격 (일, 주, 년) 및 조회 가능한 기간을 알아야 하는 점.

그래서, 검색 가능한 코드와 세부 정보들을 저장해두고 검색해서 쉽게 불러올 수 있도록 하는 API 로더가 필요하다고 생각했다. (나를 위해) 간단하게 Python 기반 ECOS API Loader 코드를 만들어 보았다.

github :  [ECOS API Loader](https://github.com/jmlee8939/ecos_api_loader)

위 코드는 "ecosloader" package 로 만들었고 아래처럼 다운 받아서 쓰면된다.

```pyhon
pip install ecosloader
``` 

### 지표로 보는 대한민국 경기 사이클

그래서 지금 들어가? 말아? 친구들과 경제 이야기를 하다보면 항상 이 말로 끝난다. 그래 물들어왔을 때 노저어야지. 근데 물들어온걸 어떻게 알 수 있냐 말이지. 출렁이는 거시 경제 지표들의 거동을 통해서 현재 경기 사이클이 어느 위치에 놓여있는지 알아볼 수 있지 않을까. 

경기 순환은 다음과 같이 '회복', '확장', '둔화', '위축' 4가지 국면으로 크게 나뉜다고 한다. 수학적으로 생각하면 미분값의 부호와 2차 미분값의 부호에 따라서 4가지로 나뉘고, 각 국면 경계는 극점과 변곡점이다. 물리적으로 생각하면 속도의 방향과 힘의 방향에 따라 구분된다고 볼 수 도 있겠다. 어떻게 보면 참 단순한 구분인데, 단순한 구조지만 실제 현실에서 일어나는 이 파동의 진폭과 주기를 아무도 제대로 맞출 수 없다는 게 참 재미있는 점이다.  

![[Pasted image 20250123215225.png]]

### 경기 순환 시계

통계청에서 경기란 "국민경제의 총체적인 활동수준을 의미하는 것으로서, 생산·소비·투자·고용 등 실물부문과 통화의 수급·금리 등 금융부문, 수출·입 등의 대외부문 활동 등을 종합한 거시적 흐름입니다." 라고 한다. 이러한 경기는 4가지 국면이 끊임 없이 순환된다. 대한민국 통계청에서는 다음과 같이 10개 주요 지표들의 전월 대비 거동을 시각화해서 현재의 경기 순환이 어떤 국면에 와 있는지를 보여주는 웹페이지를 운영하고 있다. 위 경기 순환 국면 파동에서 보여지는 기울기(이전 분기와의 차이), 진폭(평균과의 거리)을 활용하여 현재 경기가 어떤 시기에 와 있는지 아주 보기 쉽게 만들어 둔 좋은 시각화 예시를 찾았다.

[KOSIS 경기순환시계](https://kosis.kr/visual/bcc/index/index.do?language=kor)

![[Pasted image 20250126163324.png]]

### 사이클에 따라 변화하는 주요 자산의 거동

위 10개 지표에다, 부동산, 주식 등의 거동을 함께 보면서 해당 자산의 가치들이 사이클에 따라서 어떻게 거동하는지 같이 두고 보고 싶다는 생각이 들었다. 우선은 수집한 데이터를 바탕으로 자체적으로 경기 순환시계를 만들어 보았다.








나의 선생님 ChatGPT 에게 경기 순환을 설명할 수 있는 지표를 5개만 제시 해달라고 했다. 

- **GDP 성장률:** GDP 의 연간 증가율을 백분율로 나타낸 것.
- **소비자물가지수(CPI):** 소비자가 구입하는 상품이나 서비스의 가격변동을 나타내는 지수.
- **실업률:** 경제활동인구 중 실업상태에 있는 사람의 비율을 나타내는 경제 지표.
- **소매판매지수:** 특정 기간 동안 소매업체에서 이루어진 상품 판매의 총액을 기반으로 산출되며, 이는 소비자들의 구매력이 어떻게 변하고 있는지를 반영하는 지표.
- **산업생산지수:** 우리나라 전체 산업의 생산활동을 종합적으로 신속하게 파악할 수 있는 지표.

위 5개의 지표가 경기 국면에 따라 어떻게 변하는 지를 나타내는 표는 다음과 같다.

| 경기 국면   | **GDP 성장률**   | **소비자물가지수 (CPI)** | **실업률**           | **소매판매지수**  | **산업생산지수**  |
| ------- | ------------- | ----------------- | ----------------- | ----------- | ----------- |
| **회복기** | 낮은 수준에서 상승 시작 | 낮거나 안정적           | 감소 시작             | 증가          | 증가          |
| **확장기** | 지속적인 상승       | 점진적 상승 (인플레이션 가능) | 최저 수준에 근접         | 꾸준히 상승      | 꾸준히 상승      |
| **둔화기** | 상승세 둔화 또는 정체  | 높은 수준에서 둔화        | 낮은 수준 유지 또는 소폭 상승 | 정체 또는 하락 신호 | 정체 또는 감소 신호 |
| **위축기** | 하락 (마이너스 가능)  | 하락 또는 디플레이션 가능    | 상승 (고용 감소)        | 하락          | 하락          |









### 미국

1. **FRED (Federal Reserve Economic Data)**
    - **웹사이트**: FRED
    - **API**: 세인트루이스 연방준비은행에서 관리하는 경제 데이터로, API를 통해 다양한 경제 지표를 활용할 수 있습니다.
        [Yenpa](https://yenpa.tistory.com/66?utm_source=chatgpt.com)
        
2. **Trading Economics**
    - **웹사이트**: [Trading Economics - 미국 지표](https://ko.tradingeconomics.com/united-states/indicators)
    - **API**: Trading Economics는 다양한 국가의 경제 지표를 제공하며, API를 통해 실시간 데이터를 활용할 수 있습니다.
        [Trading Economics](https://ko.tradingeconomics.com/united-states/indicators?utm_source=chatgpt.com)
        
3. **키움증권 경제지표 발표일정**
    - **웹사이트**: [키움증권 경제지표](https://www.kiwoom.com/h/mock/ordinary/VMockIndicatorView)
    - **API**: 키움증권은 경제지표 발표 일정을 제공하며, Open API를 통해 관련 데이터를 활용할 수 있습니다.
        [키움증권](https://www.kiwoom.com/h/mock/ordinary/VMockIndicatorView?utm_source=chatgpt.com)
 

## 데이터 수집

### 1. yahoo finance
 
pip install yfinance
https://github.com/ranaroussi/yfinance
Yahoo 에서 재공하는 API, 개인, 연구 목적으로만 사용가능
Ticker 주식에 부여하는 특정 코드.

### 2. FinanceDataReader

**국내 주식** 

|             | Question                  | Answer                                         |
| ----------- | ------------------------- | ---------------------------------------------- |
| 해결책이 필요한 이유 | 문제의 기반에<br>자리잡고 있는 기본적 니즈 | 주식으로 돈을 많이 벌고 싶다.<br>경제의 흐름을 이해하고 싶다.          |
|             | 원하는 결과                    | 예측 결과를 바탕으로 이득을 만들어낸다.                         |
|             | 이익을 보는 사람                 | 해당 정보로 투자를 하는 나                                |
| 니즈를 정당화     | 우리 조직의 미션에 부합하는 가         |                                                |
|             | 이득이 어떻게 측정되는가             | 실제 주식의 수익률                                     |
|             | 어떤 자원이 보장되어 있는가           |                                                |
| 문제를 맥락화     | 기존의 접근법                   | LSTM, ARIMA, Transformer, <br>LLM 기반 시계열 예측 모형 |
|             | 다른 조직의 시도                 | *퀀트 (추가 정보조사 필요)                               |
|             | 내외적 제약                    | 도메인 지식의 부족                                     |
| 문제를 서술      | 문제를 분해                    | 투자 성공 자체에 목적이 아니라, <br>학습 및 구현 목표.             |
|             | 충족되어야 할 요건                | 교과서 선정. (5개 정도)                                |
|             | 팀 구성                      | 나 혼자                                           |
|             | 구체적인 문제 서술서 작성            | .                                              |
|             | 솔루션 선택                    |                                                |
|             | 인센티브 책정                   |                                                |
|             | 평가지표 선정                   |                                                |
   
##   거시 경제








